<div class="fixed inset-0 bg-black/50 flex items-center justify-center">
  <div class="bg-background rounded-lg p-6 w-full max-w-md">
    <h2 class="text-xl font-bold mb-4">
      {{ task ? "Editar Tarefa" : "Nova Tarefa" }}
    </h2>

    <form [formGroup]="form" (ngSubmit)="onSubmit()">
      <div class="mb-4">
        <label class="block text-sm font-medium mb-1">Título</label>
        <input
          required="true"
          type="text"
          formControlName="title"
          class="w-full px-3 py-2 border rounded-md"
          [ngClass]="{
            'border-red-500':
              form.get('title')?.invalid && form.get('title')?.touched
          }"
        />
        @if (form.get('title')?.invalid && form.get('title')?.touched) {
        <span class="text-red-500 text-sm">Título é obrigatório</span>
        }
      </div>

      <div class="mb-4">
        <label class="block text-sm font-medium mb-1">Descrição</label>
        <textarea
          required="true"
          formControlName="description"
          rows="3"
          class="w-full px-3 py-2 border rounded-md"
        ></textarea>
      </div>

      <div class="flex justify-end gap-2">
        <button
          type="button"
          (click)="onClose.emit()"
          class="px-4 py-2 border rounded-md"
        >
          Cancelar
        </button>
        <button
          type="submit"
          [disabled]="form.invalid"
          class="px-4 py-2 bg-primary text-primary-foreground rounded-md disabled:opacity-50"
        >
          Salvar
        </button>
      </div>
    </form>
  </div>
</div>
