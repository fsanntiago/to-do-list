<div class="bg-card border rounded-lg p-4 shadow-sm">
  <div class="flex items-start justify-between gap-4">
    <div class="flex-1">
      <div class="flex items-center gap-3">
        <button
          (click)="onToggle.emit(task)"
          class="w-5 h-5 rounded-full border-2 flex items-center justify-center"
          [ngClass]="{
            'bg-primary': task.completed,
            'border-primary': task.completed,
            'border-muted': !task.completed
          }"
        >
          @if (task.completed) {
          <span class="text-primary-foreground text-xs pi pi-check"></span>
          }
        </button>

        <h3
          class="text-lg font-medium"
          [ngClass]="{
            'line-through': task.completed,
            'text-muted': task.completed
          }"
        >
          {{ task.title }}
        </h3>
      </div>

      @if (task.description) {
      <p
        class="mt-2 text-muted-foreground"
        [ngClass]="{
          'line-through': task.completed,
          'text-muted': task.completed
        }"
      >
        {{ task.description }}
      </p>
      }
    </div>

    <div class="flex items-center gap-2">
      <button
        class="p-2 text-muted-foreground rounded-full"
        title="Editar tarefa"
        [disabled]="task.completed"
        [ngClass]="{
          'hover:text-foreground': !task.completed || !task.isActive,
          'text-muted': task.completed
        }"
        (click)="onEdit.emit(task)"
      >
        <span class="pi pi-pencil"></span>
      </button>

      <button
        class="p-2 text-muted-foreground hover:text-destructive rounded-full"
        title="Excluir tarefa"
        (click)="onDelete.emit(task)"
      >
        <span class="pi pi-trash"></span>
      </button>
    </div>
  </div>
</div>
